<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yearbook Palette Studio</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        :root {
            --cover-bg: #F9F6F0;
            --spine-bg: #8B4513;
            --text-title: #5D4037;
            --col-accent: #D2B48C;
        }

        body {
            font-family: 'Inter', sans-serif;
        }

        .font-serif {
            font-family: 'Playfair Display', serif;
        }

        /* Texture Overlay Logic */
        .texture-overlay {
            background-image: url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/200' opacity='0.4'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
            opacity: 0;
            mix-blend-mode: multiply;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .show-texture .texture-overlay {
            opacity: 0.2;
        }

        /* Dynamic Coloring */
        .dynamic-cover { background-color: var(--cover-bg); color: var(--text-title); }
        .dynamic-spine { background-color: var(--spine-bg); }
        .dynamic-text { color: var(--text-title); }
        .dynamic-accent-border { border-color: var(--col-accent); }
        .dynamic-accent-bg { background-color: var(--col-accent); }
        .dynamic-accent-text { color: var(--col-accent); }

        /* 3D Book CSS */
        .perspective-1000 {
            perspective: 1000px;
        }
        
        .book-3d-container {
            transform: rotateY(-15deg) rotateX(5deg);
            transform-style: preserve-3d;
            transition: transform 0.5s ease;
        }

        .book-3d-spine {
            transform-origin: right;
            transform: translateX(-100%) skewY(-6deg);
            filter: brightness(0.8);
        }

        .book-3d-pages {
            transform: translateZ(-2px);
        }

        /* Utilities */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .zone-btn.active {
            border-color: #d97706; /* amber-600 */
            background-color: #fffbeb; /* amber-50 */
            color: #78350f; /* amber-900 */
            box-shadow: 0 0 0 1px #d97706;
        }
        
        .tab-btn.active {
            border-bottom-color: #d97706;
            color: #b45309;
        }
    </style>
</head>
<body class="bg-gray-100 h-screen flex flex-col md:flex-row overflow-hidden">

    <!-- LEFT SIDEBAR: CONTROLS -->
    <div class="w-full md:w-80 bg-white border-r border-gray-200 flex flex-col h-full shrink-0 shadow-xl z-20">
        <div class="p-6 border-b border-gray-100 bg-gray-50">
            <h1 class="text-xl font-bold text-slate-900 flex items-center gap-2">
                <i data-lucide="book" class="w-5 h-5 text-amber-700"></i>
                Yearbook Studio
            </h1>
            <p class="text-xs text-gray-500 mt-1">Palette & Theory Tester</p>
        </div>

        <div class="flex-1 overflow-y-auto p-4 space-y-6 scrollbar-hide">
            
            <!-- Zone Selector -->
            <div class="space-y-2">
                <label class="text-xs font-bold uppercase tracking-wider text-gray-400">Target Area</label>
                <div class="grid grid-cols-2 gap-2" id="zone-container">
                    <!-- Buttons generated by JS -->
                    <button onclick="setZone('cover-bg')" id="btn-cover-bg" class="zone-btn p-3 text-sm rounded-lg border border-gray-200 text-left flex items-center gap-2 hover:border-gray-300 transition-all active">
                        <i data-lucide="layout" class="w-4 h-4"></i> Cover Base
                    </button>
                    <button onclick="setZone('spine-bg')" id="btn-spine-bg" class="zone-btn p-3 text-sm rounded-lg border border-gray-200 text-left flex items-center gap-2 hover:border-gray-300 transition-all">
                        <i data-lucide="layers" class="w-4 h-4"></i> Spine
                    </button>
                    <button onclick="setZone('text-title')" id="btn-text-title" class="zone-btn p-3 text-sm rounded-lg border border-gray-200 text-left flex items-center gap-2 hover:border-gray-300 transition-all">
                        <i data-lucide="type" class="w-4 h-4"></i> Typography
                    </button>
                    <button onclick="setZone('col-accent')" id="btn-col-accent" class="zone-btn p-3 text-sm rounded-lg border border-gray-200 text-left flex items-center gap-2 hover:border-gray-300 transition-all">
                        <i data-lucide="sun" class="w-4 h-4"></i> Accents
                    </button>
                </div>
                
                <div class="pt-2 flex items-center justify-between">
                    <span class="text-xs text-gray-500 font-medium">Texture Simulation</span>
                    <button onclick="toggleTexture()" id="texture-toggle" class="w-10 h-6 rounded-full p-1 transition-colors duration-200 ease-in-out bg-gray-200">
                        <div id="texture-knob" class="w-4 h-4 bg-white rounded-full shadow transform transition-transform duration-200 translate-x-0"></div>
                    </button>
                </div>
            </div>

            <hr class="border-gray-100" />

            <!-- Whites Palette -->
            <div>
                <label class="text-xs font-bold uppercase tracking-wider text-gray-400 mb-3 block">
                    Whites & Creams
                </label>
                <div class="grid grid-cols-4 gap-2" id="whites-grid">
                    <!-- Colors injected by JS -->
                </div>
            </div>

            <!-- Browns Palette -->
            <div>
                <label class="text-xs font-bold uppercase tracking-wider text-gray-400 mb-3 block">
                    Leather & Parchment
                </label>
                <div class="grid grid-cols-4 gap-2" id="browns-grid">
                     <!-- Colors injected by JS -->
                </div>
            </div>
            
             <!-- Palette Info Box -->
             <div class="mt-4 p-3 bg-slate-800 text-white rounded-md text-xs hidden" id="color-info-box">
                <span class="font-bold" id="color-name-display">Color</span>
                <br>
                <span class="opacity-70 font-mono" id="color-hex-display">#000000</span>
            </div>

        </div>
        
        <div class="p-4 bg-gray-50 border-t border-gray-200 text-xs text-gray-400">
            Select a <b>Target Area</b> then click a color.
        </div>
    </div>

    <!-- MAIN PREVIEW AREA -->
    <div class="flex-1 flex flex-col min-w-0 bg-slate-200/50 relative overflow-hidden">
        
        <!-- Toolbar -->
        <div class="h-14 bg-white border-b border-gray-200 flex items-center justify-between px-6 shrink-0 z-10">
            <div class="flex space-x-4">
                <button onclick="setTab('mockup')" id="tab-mockup" class="tab-btn active text-sm font-medium py-4 border-b-2 border-transparent text-gray-500 hover:text-gray-700 transition-colors">
                    Flat Spread View
                </button>
                <button onclick="setTab('3d')" id="tab-3d" class="tab-btn text-sm font-medium py-4 border-b-2 border-transparent text-gray-500 hover:text-gray-700 transition-colors">
                    3D Mockup
                </button>
                <button onclick="setTab('typography')" id="tab-typography" class="tab-btn text-sm font-medium py-4 border-b-2 border-transparent text-gray-500 hover:text-gray-700 transition-colors">
                    Typography Check
                </button>
            </div>
            
            <div class="flex items-center gap-3">
                <div class="text-xs text-gray-400 hidden lg:block">Frame 3 Layout: US Letter Hardcover</div>
                <button onclick="copyPalette()" class="flex items-center gap-1 text-xs font-medium text-amber-700 hover:bg-amber-50 px-2 py-1 rounded transition">
                    <i data-lucide="copy" class="w-3 h-3"></i> Copy JSON
                </button>
            </div>
        </div>

        <!-- Canvas Area -->
        <div class="flex-1 overflow-auto p-8 flex items-center justify-center relative" id="canvas-container">
            
            <!-- VIEW 1: FLAT LAYOUT -->
            <div id="view-mockup" class="view-section transition-all duration-500 ease-in-out" style="width: 900px; aspect-ratio: 6120/3855;">
                <div class="w-full h-full flex bg-gray-300 shadow-2xl">
                    
                    <!-- Left Wrap -->
                    <div class="h-full bg-gray-400/30 border-r border-dashed border-gray-400/50 relative" style="width: 3.9%">
                        <span class="absolute bottom-2 left-1 text-[8px] -rotate-90 text-gray-500">Wrap</span>
                    </div>

                    <!-- Back Cover -->
                    <div class="dynamic-cover h-full relative overflow-hidden transition-colors duration-300 cursor-pointer hover:opacity-95" style="width: 42.8%" onclick="setZone('cover-bg')">
                        <div class="texture-overlay absolute inset-0"></div>
                        <div class="absolute inset-0 flex items-center justify-center opacity-10 pointer-events-none">
                            <i data-lucide="image" class="w-32 h-32 text-current"></i>
                        </div>
                        <div class="absolute bottom-12 left-0 right-0 text-center dynamic-text">
                            <p class="text-[10px] font-serif uppercase tracking-widest opacity-60">Est. 2026</p>
                        </div>
                    </div>

                    <!-- Left Hinge -->
                    <div class="h-full bg-black/10 shadow-inner" style="width: 1.9%"></div>

                    <!-- Spine -->
                    <div class="dynamic-spine h-full relative flex flex-col items-center justify-center transition-colors duration-300 cursor-pointer hover:brightness-110" style="width: 2.4%" onclick="setZone('spine-bg')">
                        <div class="texture-overlay absolute inset-0"></div>
                        <div class="whitespace-nowrap font-serif font-bold tracking-[0.2em] text-lg rotate-90 text-white mix-blend-overlay">
                            YEARBOOK 2026
                        </div>
                    </div>

                    <!-- Right Hinge -->
                    <div class="h-full bg-black/5 shadow-inner" style="width: 1.9%"></div>

                    <!-- Front Cover -->
                    <div class="dynamic-cover h-full relative overflow-hidden transition-colors duration-300 group cursor-pointer hover:opacity-95" style="width: 42.8%" onclick="setZone('cover-bg')">
                        <div class="texture-overlay absolute inset-0"></div>
                        
                        <!-- Design -->
                        <div class="absolute inset-8 border border-opacity-30 dynamic-accent-border">
                            <div class="h-full w-full flex flex-col items-center justify-center p-12 text-center">
                                <span class="dynamic-accent-text uppercase tracking-[0.3em] text-xs mb-4">Dhaka College</span>
                                <h1 class="dynamic-text text-6xl font-serif font-bold mb-2 tracking-tight">
                                    THE<br/>CLASS<br/>OF '26
                                </h1>
                                <div class="w-16 h-1 mt-6 mb-6 opacity-50 dynamic-accent-bg"></div>
                                <p class="dynamic-text italic font-serif text-sm opacity-80">Preserving Memories</p>
                            </div>
                        </div>
                    </div>

                    <!-- Right Wrap -->
                    <div class="h-full bg-gray-400/30 border-l border-dashed border-gray-400/50 relative" style="width: 3.9%">
                         <span class="absolute bottom-2 left-1 text-[8px] -rotate-90 text-gray-500">Wrap</span>
                    </div>

                </div>
            </div>

            <!-- VIEW 2: 3D MOCKUP -->
            <div id="view-3d" class="view-section hidden perspective-1000">
                 <div class="book-3d-container relative w-[350px] h-[460px] shadow-2xl rounded-r-md">
                    
                    <!-- 3D Spine -->
                    <div class="book-3d-spine absolute top-0 left-0 bottom-0 w-[20px] dynamic-spine"></div>

                    <!-- 3D Front -->
                    <div class="dynamic-cover w-full h-full relative overflow-hidden rounded-r-sm shadow-xl transition-colors duration-300 border-l border-white/20">
                        <div class="texture-overlay absolute inset-0"></div>
                        
                        <!-- Gloss -->
                        <div class="absolute inset-0 bg-gradient-to-tr from-black/5 to-white/20 pointer-events-none z-10"></div>

                        <div class="absolute inset-6 border dynamic-accent-border">
                            <div class="h-full w-full flex flex-col items-center justify-center p-8 text-center">
                                <span class="dynamic-accent-text uppercase tracking-[0.3em] text-xs mb-4">Dhaka College</span>
                                <h1 class="dynamic-text text-5xl font-serif font-bold mb-2 tracking-tight">
                                    THE<br/>CLASS<br/>OF '26
                                </h1>
                                <div class="w-12 h-1 mt-6 mb-6 opacity-70 dynamic-accent-bg"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 3D Pages -->
                    <div class="book-3d-pages absolute top-[5px] right-[2px] bottom-[5px] w-[15px] bg-white border-r border-gray-200 z-[-1] rounded-r-sm shadow-sm flex">
                         <div class="w-px h-full bg-gray-100 ml-auto mr-[1px]"></div>
                         <div class="w-px h-full bg-gray-100 mr-[1px]"></div>
                         <div class="w-px h-full bg-gray-100 mr-[1px]"></div>
                    </div>

                 </div>
                 
                 <div class="mt-12 text-center text-sm text-gray-500 max-w-xs mx-auto">
                    <p class="font-bold text-gray-800 mb-2">3D Visualizer</p>
                    <p>Shows how lighting affects your chosen paper white.</p>
                 </div>
            </div>

            <!-- VIEW 3: TYPOGRAPHY -->
            <div id="view-typography" class="view-section hidden w-full max-w-3xl dynamic-cover shadow-lg p-12 min-h-[600px] flex flex-col gap-8 transition-colors duration-300">
                <div class="texture-overlay absolute inset-0"></div>
                
                <div class="border-b pb-4 flex justify-between items-end dynamic-accent-border relative z-10">
                    <h2 class="text-4xl font-serif font-bold dynamic-text">Section Title</h2>
                    <span class="font-mono text-xs opacity-50 dynamic-text">120pt / Serif</span>
                 </div>
  
                 <div class="grid grid-cols-2 gap-8 relative z-10">
                    <div>
                      <h3 class="text-xl font-bold mb-4 uppercase tracking-wider dynamic-text opacity-70">Body Text Check</h3>
                      <p class="dynamic-text leading-relaxed font-serif text-justify mb-4">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
                        Notice how the text sits on the background. Is it readable? Is the contrast too low?
                      </p>
                      <p class="dynamic-text leading-relaxed font-serif text-justify">
                        For a yearbook, you want high readability but a soft aesthetic. Avoid pure black text on cream paper; dark brown is often softer and more harmonious.
                      </p>
                    </div>
                    
                    <div class="p-6 rounded border bg-white/50 backdrop-blur-sm dynamic-accent-border">
                       <h3 class="text-sm font-bold mb-4 uppercase dynamic-text">Palette Analysis</h3>
                       <div class="space-y-3">
                         <div class="flex items-center justify-between">
                           <span class="text-xs text-gray-500">Background</span>
                           <div class="flex items-center gap-2">
                             <div class="w-4 h-4 rounded border border-gray-200 shadow-sm dynamic-cover"></div>
                           </div>
                         </div>
                         <div class="flex items-center justify-between">
                           <span class="text-xs text-gray-500">Text</span>
                           <div class="flex items-center gap-2">
                             <div class="w-4 h-4 rounded border border-gray-200 shadow-sm" style="background-color: var(--text-title)"></div>
                           </div>
                         </div>
                         <div class="flex items-center justify-between">
                           <span class="text-xs text-gray-500">Accent</span>
                           <div class="flex items-center gap-2">
                             <div class="w-4 h-4 rounded border border-gray-200 shadow-sm dynamic-accent-bg"></div>
                           </div>
                         </div>
                         <div class="flex items-center justify-between">
                           <span class="text-xs text-gray-500">Spine</span>
                           <div class="flex items-center gap-2">
                             <div class="w-4 h-4 rounded border border-gray-200 shadow-sm dynamic-spine"></div>
                           </div>
                         </div>
                       </div>
                    </div>
                 </div>
            </div>

        </div>
    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- DATA ---
        const whites = [
            { name: 'Pure White', hex: '#FFFFFF', desc: 'Standard printer white' },
            { name: 'Snow White', hex: '#FFFAFA', desc: 'Slightly warmer' },
            { name: 'Ghost White', hex: '#F8F8FF', desc: 'Cool, bluish white' },
            { name: 'Smoke', hex: '#F5F5F5', desc: 'Modern light grey' },
            { name: 'Alabaster', hex: '#FAFAFA', desc: 'Neutral, clean' },
            { name: 'Ivory', hex: '#FFFFF0', desc: 'Classic academic warm' },
            { name: 'Floral White', hex: '#FFFAF0', desc: 'Very subtle warm' },
            { name: 'Cream', hex: '#FFFDD0', desc: 'Rich, buttery vintage' },
            { name: 'Eggshell', hex: '#F0EAD6', desc: 'Earthy natural' },
            { name: 'Linen', hex: '#FAF0E6', desc: 'Reddish-warm' },
            { name: 'Old Lace', hex: '#FDF5E6', desc: 'Vintage nostalgic' },
            { name: 'Parchment', hex: '#FCF5E5', desc: 'Fresh paper look' },
        ];

        const browns = [
            { name: 'Paper', hex: '#F0E68C', desc: 'Khaki/Manila' },
            { name: 'Wheat', hex: '#F5DEB3', desc: 'Golden harvest' },
            { name: 'Biscuit', hex: '#FFE4C4', desc: 'Reddish beige' },
            { name: 'Tan', hex: '#D2B48C', desc: 'Classic leather' },
            { name: 'Antique Brass', hex: '#CD9575', desc: 'Metallic brown' },
            { name: 'Peru', hex: '#CD853F', desc: 'Vibrant orange-brown' },
            { name: 'Sienna', hex: '#A0522D', desc: 'Red-clay earth' },
            { name: 'Saddle Brown', hex: '#8B4513', desc: 'Standard leather' },
            { name: 'Russet', hex: '#80461B', desc: 'Autumn leaf' },
            { name: 'Sepia', hex: '#704214', desc: 'Old photo dark' },
            { name: 'Coffee', hex: '#6F4E37', desc: 'Cooler dark brown' },
            { name: 'Dark Leather', hex: '#3B2F2F', desc: 'Deep almost black' },
        ];

        // --- STATE ---
        let activeZone = 'cover-bg';
        let palette = {
            'cover-bg': '#F9F6F0',
            'spine-bg': '#8B4513',
            'text-title': '#5D4037',
            'col-accent': '#D2B48C'
        };

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
            renderPalettes();
            updateCssVariables();
        });

        // --- FUNCTIONS ---
        
        function setZone(zoneId) {
            activeZone = zoneId;
            
            // UI Update
            document.querySelectorAll('.zone-btn').forEach(btn => btn.classList.remove('active'));
            const activeBtn = document.getElementById(`btn-${zoneId}`);
            if(activeBtn) activeBtn.classList.add('active');
        }

        function setTab(tabId) {
            // Hide all views
            document.querySelectorAll('.view-section').forEach(el => el.classList.add('hidden'));
            // Show target view
            document.getElementById(`view-${tabId}`).classList.remove('hidden');

            // Update Nav UI
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active', 'border-amber-600', 'text-amber-700'));
            const activeTab = document.getElementById(`tab-${tabId}`);
            activeTab.classList.add('active', 'border-amber-600', 'text-amber-700');
        }

        function toggleTexture() {
            const body = document.body;
            const knob = document.getElementById('texture-knob');
            const toggle = document.getElementById('texture-toggle');
            
            body.classList.toggle('show-texture');
            
            if(body.classList.contains('show-texture')) {
                knob.classList.add('translate-x-4');
                toggle.classList.remove('bg-gray-200');
                toggle.classList.add('bg-amber-600');
            } else {
                knob.classList.remove('translate-x-4');
                toggle.classList.add('bg-gray-200');
                toggle.classList.remove('bg-amber-600');
            }
        }

        function applyColor(hex, name) {
            palette[activeZone] = hex;
            updateCssVariables();
            
            // Show info tooltip
            const infoBox = document.getElementById('color-info-box');
            document.getElementById('color-name-display').innerText = name;
            document.getElementById('color-hex-display').innerText = hex;
            infoBox.classList.remove('hidden');
        }

        function updateCssVariables() {
            const root = document.documentElement;
            root.style.setProperty('--cover-bg', palette['cover-bg']);
            root.style.setProperty('--spine-bg', palette['spine-bg']);
            root.style.setProperty('--text-title', palette['text-title']);
            root.style.setProperty('--col-accent', palette['col-accent']);
        }

        function renderPalettes() {
            const createButton = (color) => {
                const btn = document.createElement('button');
                btn.className = "group relative w-full aspect-square rounded-md border border-gray-200 shadow-sm hover:scale-105 transition-transform focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2";
                btn.style.backgroundColor = color.hex;
                btn.title = `${color.name} - ${color.desc}`;
                btn.onclick = () => applyColor(color.hex, color.name);
                return btn;
            };

            const whitesContainer = document.getElementById('whites-grid');
            whites.forEach(c => whitesContainer.appendChild(createButton(c)));

            const brownsContainer = document.getElementById('browns-grid');
            browns.forEach(c => brownsContainer.appendChild(createButton(c)));
        }

        function copyPalette() {
            const text = JSON.stringify(palette, null, 2);
            const textarea = document.createElement("textarea");
            textarea.value = text;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand("copy");
            document.body.removeChild(textarea);
            alert("Palette JSON copied to clipboard!");
        }

    </script>
</body>
</html>